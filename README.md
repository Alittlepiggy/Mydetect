# 道路缺陷检测系统

## 功能概述

本系统是一个基于 PyQt5 开发的道路缺陷检测应用程序，集成了传统图像处理和深度学习方法，可以对道路图像进行分析和缺陷检测。系统支持多种图像处理方法，包括基础图像增强、边缘检测、形态学处理以及基于深度学习的智能检测。

运行本地UI界面调用命令
``
python main.py
``

运行web端命令
``
python web_server.py
``
## 详细功能说明

### 1. 图像输入输出
- **图像加载**
  - 支持格式：JPG、JPEG、PNG、BMP
  - 支持中文路径
  - 自动进行图像预处理和尺寸检查

- **结果保存**
  - 可保存处理后的图像
  - 保留原始分辨率
  - 支持批量处理结果保存

### 2. 基础图像处理
- **亮度调节**
  - 范围：-100 到 100
  - 实时预览效果
  - 保持图像细节不失真

- **对比度调节**
  - 范围：0 到 3
  - 自适应对比度增强
  - 防止过度增强导致的细节丢失

- **直方图均衡化**
  - 全局直方图均衡化
  - 自适应直方图均衡化（CLAHE）
    * 可调节对比度限制
    * 自适应网格大小
    * 更好地保持局部细节

- **图像增强**
  - 自适应图像增强
    * 多尺度处理
    * 自动参数调整
    * 综合考虑亮度、对比度和细节
  - 去噪处理
    * 高斯滤波
    * 中值滤波
  - 锐化处理
    * 拉普拉斯算子
    * USM锐化

### 3. 高级图像处理
- **边缘检测**
  - Canny边缘检测
    * 低阈值：0-255，用于边缘连接
    * 高阈值：0-255，用于边缘检测
    * 自适应阈值计算
  - 形态学边缘检测
    * 支持多种算子
    * 可调节核大小

- **FFT高通滤波**
  - 可调半径：1-100
  - 频域滤波
  - 增强图像细节
  - 去除低频噪声

- **形态学操作**
  - 腐蚀操作
    * 去除小目标
    * 缩小目标区域
  - 膨胀操作
    * 填充小孔
    * 连接断开区域
  - 开运算
    * 去除小物体
    * 平滑边界
  - 闭运算
    * 填充小孔
    * 连接近邻物体
  - 形态学梯度
    * 提取边界
    * 增强轮廓

### 4. 缺陷检测功能
- **传统检测方法**
  - 裂缝检测
    * 多尺度形态学处理
    * 自适应阈值分割
    * 方向性分析
    * 长宽比过滤
  - 坑洼检测
    * 区域生长算法
    * 形状分析
    * 深度估计
  - 积水检测
    * 颜色空间变换
    * 饱和度分析
    * 区域连通性分析

- **AI智能检测**
  - YOLOv12目标检测
    * 预训练模型支持
    * 支持两种模型：
      - yolov12s.pt（标准版）
      - yolo11n.pt（轻量版）
    * 检测置信度阈值可调
    * 支持 NMS 处理
    * 实时检测结果显示

### 5. 分析工具
- **直方图分析**
  - RGB三通道直方图
  - 灰度直方图
  - 实时更新
  - 数据统计信息

- **图像信息统计**
  - 基本信息
    * 图像尺寸
    * 文件大小
    * 色彩空间
  - 统计信息
    * 均值
    * 标准差
    * 最大/最小值
    * 直方图分布

- **ROI分析**
  - 矩形选择工具
  - 多区域选择
  - 区域统计信息
  - 局部直方图分析

### 6. 交互功能
- **图像浏览**
  - 缩放功能（鼠标滚轮）
  - 拖动功能
  - 图像适应窗口
  - 原始尺寸显示

- **结果对比**
  - 原图与处理结果对比
  - 多结果并排显示
  - 处理参数显示

- **批量处理**
  - 文件夹批处理
  - 进度显示
  - 结果统一保存
  - 处理报告生成

## 使用建议

### 最佳实践
1. **图像预处理**
   - 建议先进行基础增强
   - 根据图像质量选择合适的预处理方法
   - 对于噪声较大的图像，建议先进行去噪处理

2. **缺陷检测流程**
   - 对于清晰图像：直接使用 AI 检测
   - 对于模糊图像：先增强后检测
   - 对于复杂场景：结合传统方法和 AI 方法

3. **性能优化**
   - 处理大图像时建议先缩小尺寸
   - AI 检测时关闭不必要的实时预览
   - 批量处理时注意内存使用

### 注意事项
1. **AI模型使用**
   - 首次使用需要下载模型
   - 确保模型文件完整性
   - 根据设备性能选择合适的模型

2. **图像处理限制**
   - 单次处理图像大小限制：2000x2000像素
   - 批处理数量建议：不超过100张
   - 支持的图像格式：jpg、jpeg、png、bmp

3. **系统要求**
   - 内存：建议 8GB 以上
   - GPU：推荐使用独立显卡
   - 存储空间：至少 2GB 可用空间

## 技术支持

如有问题，请提交 Issue 或联系开发团队。我们会及时响应并解决问题。 
